# 2.2.4. Diagrama de Estados

## Introdução
O Diagrama de Estados ou Diagrama de Máquina de Estados é uma ferramenta da UML (Linguagem de Modelagem Unificada). Segundo a definição da [Lucidchart](https://www.lucidchart.com/pages/pt/o-que-e-diagrama-de-maquina-de-estados-uml), é utilizada para modelar o comportamento dinâmico de um objeto ao longo de seu ciclo de vida. Este diagrama visualiza todos os estados possíveis de uma classe e as transições que ocorrem entre eles.

No contexto do projeto "O Que Planejo Fazer", este diagrama contribui com a validação da lógica de comportamento de entidades com um ciclo de vida variável e crítico para as regras de negócio, como Tarefa e Usuário. O objetivo principal foi garantir que o sistema se comporte de maneira previsível e sem inconsistências, prevenindo operações inválidas, como editar uma tarefa já concluída ou permitir o login de um usuário sem cadastro.

## Metodologia
A criação dos diagramas de estado seguiu uma abordagem focada em entender o ciclo de vida de cada objeto. A metodologia utilizada incluiu as seguintes etapas:

1. Identificação de Classes Relevantes: As classes a serem modeladas foram selecionadas a partir do [Diagrama de Classes](Modelagem/2.1.1.DiagramDeClasses.md), priorizando aquelas cujo comportamento dinâmico é central para as funcionalidades descritas nos [Épicos 1 e 3](Modelagem/2.5.1.DeclaracaoRequisitos.md) da declaração dos requisitos. As classes **Tarefa** e **Usuário** foram escolhidas por possuírem ciclos de vida com diferentes estados e transições significativas.

2. Definição de Estados e Transições: Os estados e os eventos que disparam as transições foram extraídos diretamente das [User Stories](Modelagem/2.5.1.DeclaracaoRequisitos.md). Por exemplo, a história "Como usuário, quero finalizar uma tarefa" resultou na identificação do estado *Concluindo* e da transição finalizar(), que move a tarefa do estado *Executando* para *Concluindo*.

3. Modelagem e Validação: Utilizando a [notação padrão da UML](https://www.uml-diagrams.org/uml-25-diagrams.html), os diagramas foram desenhados para representar visualmente o ciclo de vida. Cada diagrama foi então validado em relação às regras de negócio para garantir que os caminhos possíveis estejam mapeados e que não existam estados inalcançáveis ou transições ambíguas.

Esta metodologia assegurou que o comportamento do sistema fosse completamente documentado.

## Análises e Justificativas

A decisão de modelar o comportamento de certas classes com Diagramas de Estado não foi atoa, mas sim uma escolha para mitigar riscos e garantir a qualidade do sistema "O que planejo fazer".

**Por que foi escolhida a classe Tarefa para modelar um Diagrama de Estados?**

A Tarefa é a entidade central do sistema e seu ciclo de vida é fundamental para a experiência do usuário e para a lógica de negócio. O diagrama garante que as transições ocorram de forma controlada, impedindo, por exemplo, que uma tarefa Cancelada seja marcada como Concluída. Isso simplifica o desenvolvimento e previne bugs e erros.

**Por que foi escolhida a classe Usuário para modelar um Diagrama de Estados?**

O ciclo de vida do Usuário está diretamente ligado à segurança e ao acesso ao sistema [Épico 3](Modelagem/2.5.1.DeclaracaoRequisitos.md). Estados como Aguardando Verificação, Ativo, Bloqueado e Inativo são críticos. O diagrama de estados formaliza as regras de acesso: um usuário sem conta cadastrada não pode realizar login, e um usuário Inativo pode realizar um login. Modelar isso visualmente reduz a ambiguidade e fortalece o entendimento da equipe sobre o artefato.

**Por que não escolher outras classes também?**

Classes como *Alerta* ou *RelatorioDeProgresso* possuem um ciclo de vida mais simples (geralmente apenas "criado" e "removido") e não se beneficiariam da complexidade de um Diagrama de Estados. A escolha foi focar o esforço de modelagem onde ele agrega mais valor, na validação de comportamentos mais confusos e críticos.

## Classe Tarefa
<img src="https://github.com/user-attachments/assets/40f2df43-a2f2-4a9c-8157-8685469cb907"/>

## Referências Bibliográficas
> **Lucidchart.** *O que é um diagrama de máquina de estados?*. Disponível em: https://www.lucidchart.com/pages/pt/o-que-e-diagrama-de-maquina-de-estados-uml. Acesso em: 13 set. 2025.

> **UML-DIAGRAMS**. *State Machine Diagrams*. Disponível em: https://www.uml-diagrams.org/state-machine-diagrams.html. Acesso em: 17 set. 2025.

> **STÉFANE, Larissa**. *2025.1_T02_G9_GalaxiaConectada_Entrega02*. Disponível em: https://github.com/UnBArqDsw2025-1-Turma02/2025.1_T02_G9_GalaxiaConectada_Entrega02. Acesso em: 17 set. 2025.

> **SERRANO, Milene**. *AULA - MODELAGEM UML DINÂMICA*. Disponível em: [AULA - MODELAGEM UML DINÂMICA](https://aprender3.unb.br/pluginfile.php/3178534/mod_page/content/1/Arquitetura%20e%20Desenho%20de%20Software%20-%20Aula%20Modelagem%20UML%20Din%C3%A2mica%20-%20Profa.%20Milene.pdf). Acesso em: 15 set. 2025.

## Histórico de Versões

| Versão | Alteração | Responsável | Data | Revisor |  Detalhes da Revisão | Data da Revisão |
|--------|-----------|-------------|------|---------|----------------------|-----------------|
| 1.0 | Inclusão da introdução, referências e metodologia | [Camila Careli](https://github.com/camilascareli) | 14/09/2025 | [Brenno Oliveira](https://github.com/Brenno-Silva01) | Realizada revisão ortográfica e correção do link da referência bibliográfica | 18/09/2025 |
| 1.1 | Incremento de informações na introdução e metodologia, inclusão do novo tópico análises e justificativas. Adição de novas referências. | [Brenno Oliveira](https://github.com/Brenno-Silva01) | 18/09/2025 | [Camila Careli](https://github.com/camilascareli) | Revisado. Sem nenhuma alteração.  | 20/09/25 |
| 2.0 | Inclusão do diagrama de estados da classe Tarefa, com a criação feita por mim e a revisão feita pelo [Brenno Oliveira](https://github.com/Brenno-Silva01) | [Camila Careli](https://github.com/camilascareli) | 20/09/2025 | [SEU NOME](https://github.com/SEUGITHUB) | ---  | XX/XX/XX |
